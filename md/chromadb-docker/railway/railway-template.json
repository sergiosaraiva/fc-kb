{
  "name": "FC Education Portal",
  "description": "Financial Consolidation Knowledge Base - RAG-powered education portal with ChromaDB and Streamlit",
  "services": [
    {
      "name": "chromadb",
      "icon": "https://www.trychroma.com/chroma-logo.png",
      "source": {
        "image": "chromadb/chroma:0.5.23"
      },
      "networking": {
        "internal": true
      },
      "variables": {
        "PORT": "8000",
        "IS_PERSISTENT": "TRUE",
        "ANONYMIZED_TELEMETRY": "FALSE",
        "CHROMA_HOST_ADDR": "::",
        "CHROMA_HOST_PORT": "8000",
        "CHROMA_SERVER_AUTH_PROVIDER": "chromadb.auth.token_authn.TokenAuthenticationServerProvider",
        "CHROMA_SERVER_AUTH_CREDENTIALS": {
          "description": "Authentication token for ChromaDB",
          "default": "fc-knowledge-base-token",
          "required": true
        },
        "CHROMA_SERVER_AUTH_TOKEN_TRANSPORT_HEADER": "X-Chroma-Token"
      },
      "volumes": [
        {
          "mount": "/chroma/chroma",
          "name": "chromadb-data"
        }
      ],
      "deploy": {
        "healthcheckPath": "/api/v1/heartbeat",
        "healthcheckTimeout": 30
      }
    },
    {
      "name": "frontend",
      "icon": "https://streamlit.io/images/brand/streamlit-mark-color.png",
      "source": {
        "repo": "your-github-repo",
        "branch": "main",
        "rootDirectory": "docs/DC/md/chromadb-docker"
      },
      "networking": {
        "public": true
      },
      "variables": {
        "PORT": "8501",
        "CHROMADB_HOST": "${{ chromadb.RAILWAY_PRIVATE_DOMAIN }}",
        "CHROMADB_PORT": "8000",
        "CHROMADB_TOKEN": "${{ chromadb.CHROMA_SERVER_AUTH_CREDENTIALS }}",
        "AWS_ACCESS_KEY_ID": {
          "description": "AWS Access Key for Bedrock",
          "required": true
        },
        "AWS_SECRET_ACCESS_KEY": {
          "description": "AWS Secret Key for Bedrock",
          "required": true
        },
        "AWS_DEFAULT_REGION": {
          "description": "AWS Region for Bedrock",
          "default": "us-east-1"
        }
      },
      "build": {
        "dockerfilePath": "railway/frontend/Dockerfile"
      },
      "deploy": {
        "healthcheckPath": "/_stcore/health",
        "healthcheckTimeout": 30
      }
    }
  ]
}
